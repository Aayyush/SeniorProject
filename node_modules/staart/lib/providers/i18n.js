"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var PropTypes = require("prop-types");
var recompose_1 = require("recompose");
/* tslint:disable-next-line function-name */
function __(translations, language, key) {
    var parts = key.split('.');
    var current = translations[language];
    for (var _i = 0, parts_1 = parts; _i < parts_1.length; _i++) {
        var part = parts_1[_i];
        if (current[part] === undefined) {
            throw Error("Unknown translation " + language + "." + key + ".");
        }
        current = current[part];
    }
    return current;
}
exports.default = (function (translations, language) {
    if (language === void 0) { language = 'en'; }
    var currentLanguage = language;
    return recompose_1.withContext({
        translations: PropTypes.object,
        __: PropTypes.func,
        setLanguage: PropTypes.func,
    }, function () { return ({
        translations: translations,
        __: function (key) { return __(translations, currentLanguage, key); },
        setLanguage: function (lang) { return (currentLanguage = lang); },
    }); });
});
